<div class="container">
  <form action="" class="form-group" [formGroup]="customCardForm">
    <div class="row">
      <div class="col-md-4">
        <h1 class="text-center my-4">Image Gallery</h1>
      </div>
      <!--FILTRADO POR NOMBRE-->
      <div class="col-md-4 search">
        <input class="form-control me-2" type="search"
        placeholder="Search By Name" aria-label="Search"
        formControlName="searchByName"
        >
      </div>
      <!--AUTHOR-->
      <div class="col-md-4 auth-search">
        <select name="auth" class="form-select" id="auth"
        formControlName="searchByAuthor">
          @for(user of user; track user._id){
            <option value="{{user.nick}}">{{user.nick}}</option>
          }
        </select>
      </div>
    </div>

    <div class="row gallery">
      <!--IMAGEN-->
      <div class="col-md-2 container-image"
      *ngFor="let card of paginatedCards
      | filterCustomCards:{
        searchByName: customCardForm.value.searchByName,
        searchByAuthor: customCardForm.value.searchByAuthor
      }">
        <h4>Auth: {{card.author}}</h4>
        <img [src]="apiUrl + card.url" class="customCard"
        (click)="openModal(card)">
        <p>{{card.name}}</p>
      </div>
    </div>

    <!-- PAGINACIÓN -->
    <div class="d-flex justify-content-center">
      <ul class="pagination pagination-lg">
        <li class="page-item" [class.disabled]="currentPage === 1">
          <a class="page-link"  (click)="changePage(currentPage - 1)">&laquo;</a>
        </li>
        <li
          class="page-item"
          *ngFor="let page of getPageNumbers()"
          [class.active]="currentPage === page"
        >
          <a class="page-link"  (click)="changePage(page)">{{ page }}</a>
        </li>
        <li class="page-item" [class.disabled]="currentPage === getPageCount()">
          <a class="page-link"  (click)="changePage(currentPage + 1)">&raquo;</a>
        </li>
      </ul>
    </div>

  </form>
</div>
